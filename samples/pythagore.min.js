"use strict";$(function(){let t=200,r=550,a=600,n=d3.select('#container_pythagore').append('svg').attr('width',t+r+8).attr('height',t+r+8).attr("xmlns","http://www.w3.org/2000/svg");n.append('rect').attr('class','background').attr('x',0).attr('y',0).attr('width',t+r).attr('height',t+r)
    ;function e(){return`M ${t} 0 l ${-t} ${r} l 0 ${-r} Z`}function o(){return`M ${t} 0 l ${-t} ${r} l ${t} 0 Z`}function s(){return`M ${t} 0 l ${r} ${t} l ${-r} 0 Z`}function i(){return`M ${t} 0 l ${r} ${t} l 0 ${-t} Z`}let l='translate(0,0) rotate(0,0,0)';n.append('path').attr('id','t1').attr('class','triangle').attr('d',e()).attr('transform',l);n.append('path').attr('id','t2').attr('class','triangle').attr('d',o()).attr('transform',l);let c='translate(0,'+r+') rotate(0,0,0)';n.append('path').attr('id','t3').attr('class','triangle move_up').attr('d',s()).attr('transform',c);n.append('path').attr('id','t4').attr('class','triangle move_up').attr('d',i()).attr('transform',c);n.append('text').attr('x',t/2).attr('y',r+t/2).attr('id','a2').html('<tspan>a²</tspan>').attr('class','legend text_before');n.append('text').attr('x',t+r/2).attr('y',r/2).attr('id','b2').html('<tspan>b²</tspan>').attr('class','legend text_before');n.append('text').attr('x',(t+r)/2).attr('y',(t+r)/2).html('<tspan>c²</tspan>').attr('class','legend text_after').attr('display','none');n.append('rect').attr('id','foo').attr('x',800).attr('y',800).attr('width',100).attr('height',100)
	;function u(){n.selectAll(".move_up").transition().duration(a).attrTween('transform',function(t,r){return d3.interpolateTransformSvg(c,l)})
		}function d(){n.selectAll("#t2").transition().duration(a).attrTween('transform',function(t,a){return d3.interpolateTransformSvg(l,'translate(0,0) rotate(90,0,'+r+')')})
		}function f(){n.selectAll('#t3').transition().duration(a).attrTween('transform',function(a,n){return d3.interpolateTransformSvg(l,'translate(0,0) rotate(-90,'+(t+r)+','+t+')')})
		}function p(){n.selectAll('.text_before').transition().duration(a).attr('display','none');n.selectAll('.text_after').transition().duration(a).attr('display','on')}function g(){n.selectAll('.text_after').transition().duration(a).attr('display','none');n.selectAll('.text_before').transition().duration(a).attr('display','on')}function m(){console.log('turn');d();f();p();return!0}function h(){g();n.select('#t2').transition().duration(a).attrTween('transform',function(t,r){let a=this.getAttribute("transform");return d3.interpolateTransformSvg(a,l)});
		n.select('#t3').transition().duration(a).attrTween('transform',function(t,r){let a=this.getAttribute("transform");return d3.interpolateTransformSvg(a,c)});
		n.select('#t4').transition().duration(a).attrTween('transform',function(t,r){let a=this.getAttribute("transform");return d3.interpolateTransformSvg(a,c)})
		}let b=0;function w(){b==0?(u(),$('#go').removeClass("btn-success").addClass("btn-info").html('Continue ...'),b=1):b==1?(m(),$('#go').removeClass("btn-info").addClass('btn-danger').html('Reset'),b=2):(h(),$('#go').removeClass("btn-danger").addClass('btn-success').html('Go !'),b=0)}function v(t){w()}function x(t){switch(t.which){case 40:;case 39:;case 34:;case 37:;case 38:;case 33:w();t.preventDefault();break}}$("body").keypress(v);$("body").keydown(x);$("#go").click(w)})